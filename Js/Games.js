var LocalGames = `{
  "games": [
      {
          "name": "1v1.lol",
          "creator": "JustPlay.LOL",
          "path": "/Games/1v1.lol.html",
          "image": "/Images/Images/1v1lol.jpg",
          "Visible": true
      },
      {
          "name": "Among Us",
          "creator": "InnerSloth",
          "path": "/Games/amongus.html",
          "image": "/Images/Images/AmoungUs.png",
          "Visible": true
      },
      {
          "name": "Boxing Random",
          "creator": "RHM Interactive",
          "path": "/Games/boxingrandom.html",
          "image": "/Images/Images/BoxingRandom.jfif",
          "Visible": true
      },
      {
          "name": "Basketball Bros",
          "creator": "Mad Puffers",
          "path": "/Games/basketbros.html",
          "image": "/Images/Images/basketballstars.jpg",
          "Visible": true
      },
      {
          "name": "Clicker Heroes",
          "creator": "Playsaurus",
          "path": "/Games/ClickerHeroes.html",
          "image": "/Images/Images/clicker-heroes.png",
          "Visible": true
      },
      {
          "name": "Color switch",
          "creator": "Fortafy Games",
          "path": "/Games/ColorSwitch.html",
          "image": "/Images/Images/ColorSwitch.png",
          "Visible": true
      },
      {
          "name": "Cookie clickers",
          "creator": "RedBit Games",
          "path": "/Games/CookieClicker.html",
          "image": "/Images/Images/CookieClicker.png",
          "Visible": true
      },
      {
          "name": "Coreball",
          "creator": "Game Distribution",
          "path": "/Games/Coreball.html",
          "image": "/Images/Images/Coreball.png",
          "Visible": false
      },
      {
          "name": "Dadish",
          "creator": "Thomas K. Young",
          "path": "/Games/Dadish.html",
          "image": "/Images/Images/Dadish.png",
          "Visible": true
      },
      {
          "name": "Dadish 3",
          "creator": "Thomas K. Young",
          "path": "/Games/Dadish3.html",
          "image": "/Images/Images/Dadish3.png",
          "Visible": true
      },
      {
          "name": "Descent",
          "creator": "Sakkat Studio",
          "path": "/Games/Descent.html",
          "image": "/Images/Images/Descent.png",
          "Visible": true
      },
      {
          "name": "Doodle Jump",
          "creator": "Lima Sky",
          "path": "/Games/doodlejump.html",
          "image": "/Images/Images/Doodlejump.png",
          "Visible": true
      },
      {
          "name": "Drift boss",
          "creator": "MarketJS",
          "path": "/Games/driftboss.html",
          "image": "/Images/Images/drift-boss.png",
          "Visible": true
      },
      {
          "name": "Drive mad",
          "creator": "Fancade",
          "path": "/Games/Drive-mad.html",
          "image": "/Images/Images/DriveMad.jpg",
          "Visible": true
      },
      {
          "name": "Fruit Ninja",
          "creator": "Halfbrick Studios",
          "path": "/Games/FruitNinja.html",
          "image": "/Images/Images/Fruit.jfif",
          "Visible": true
      },
      {
          "name": "Getaway Shootout",
          "creator": "Neweich Games",
          "path": "/Games/GetawayShootouts.html",
          "image": "/Images/Images/GetawayShootout.png",
          "Visible": true
      },
      {
          "name": "Gobble",
          "creator": "Fancade",
          "path": "/Games/Gobble.html",
          "image": "/Images/Images/Gobble.png",
          "Visible": true
      },
      {
          "name": "Hextris",
          "creator": "Hextris",
          "path": "/Games/hextris.html",
          "image": "/Images/Images/hextris.png",
          "Visible": true
      },
      {
          "name": "Jetpack Joyride",
          "creator": "Halfbrick Studios",
          "path": "/Games/Jetpackjoyride.html",
          "image": "/Images/Images/Jetpack.png",
          "Visible": true
      },
      {
          "name": "L2F",
          "creator": "MarketJS",
          "path": "/Games/L2f.html",
          "image": "/Images/Images/L2F.png",
          "Visible": true
      },
      {
          "name": "L2f2",
          "creator": "MarketJS",
          "path": "/Games/L2f2.html",
          "image": "/Images/Images/L2F2.jpeg",
          "Visible": true
      },
      {
          "name": "L2F3",
          "creator": "MarketJS",
          "path": "/Games/L2f3.html",
          "image": "/Images/Images/L2F3.png",
          "Visible": true
      },
      {
          "name": "Level Devil",
          "creator": "Unept",
          "path": "/Games/LevelDevil.html",
          "image": "/Images/Images/LevelDevil.png",
          "Visible": true
      },
      {
          "name": "Minecraft",
          "creator": "Mojang Studios",
          "path": "/Games/Minecraft.html",
          "image": "/Images/Images/MinecraftLogo.png",
          "Visible": true
      },
      {
          "name": "MotoX3M",
          "creator": "Mad Puffers",
          "path": "/Games/MotoX3m.html",
          "image": "/Images/Images/moto-x3m.jpg",
          "Visible": true
      },
      {
          "name": "Murder",
          "creator": "Studio Seufz",
          "path": "/Games/Murder.html",
          "image": "/Images/Images/Murder.png",
          "Visible": true
      },
      {
          "name": "Ragdoll Hit",
          "creator": "Ericetto",
          "path": "/Games/RagdollHit.html",
          "image": "/Images/Images/RagdollHit.png",
          "Visible": true
      },
      {
          "name": "RetroBowl",
          "creator": "New Star Games",
          "path": "/Games/Retrobowl.html",
          "image": "/Images/Images/Retrobowl.png",
          "Visible": true
      },
      {
          "name": "Slope",
          "creator": "Y8",
          "path": "/Games/Slope.html",
          "image": "/Images/Images/Slope.jfif",
          "Visible": true
      },
      {
          "name": "Slope 2",
          "creator": "Y8",
          "path": "/Games/Slope2.html",
          "image": "/Images/Images/Slope.jfif",
          "Visible": true
      },
      {
          "name": "Soccer Random",
          "creator": "RHM Interactive",
          "path": "/Games/SoccerRandom.html",
          "image": "/Images/Images/SoccerRandom.jfif",
          "Visible": true
      },
            {
          "name": "Stacktris",
          "creator": "Fancade",
          "path": "/Games/stacktris.html",
          "image": "/Images/Images/stacktris.png",
          "Visible": true
      },
      {
          "name": "Subway Surfers",
          "creator": "Sybo Games",
          "path": "/Games/SubwaySurfers.html",
          "image": "/Images/Images/SubwaySurfers.png",
          "Visible": true
      },
      {
          "name": "Table Tennis World Tour",
          "creator": "Yakuto",
          "path": "/Games/TableTennisWorldTour.html",
          "image": "/Images/Images/TableTennisWorldTour.jfif",
          "Visible": true
      },
      {
          "name": "Tag",
          "creator": "JetGames",
          "path": "/Games/Tag.html",
          "image": "/Images/Images/Tag.png",
          "Visible": true
      },
            {
          "name": "Tiny-Fishing",
          "creator": "Mad Buffer",
          "path": "/Games/Tiny-Fishing.html",
          "image": "/Images/Images/Tiny-Fishing.png",
          "Visible": true
      }
  ]
}`
var gameObject = JSON.parse(LocalGames);
for (i in gameObject.games) {
    if (gameObject.games[i].Visible) {
        let elem1 = document.createElement("div");
        elem1.className = "gameframe";
        document.getElementById("gameid").appendChild(elem1);
        let elem2 = document.createElement("a");
        elem2.href = gameObject.games[i].path;
        elem1.appendChild(elem2);
        let elem3 = document.createElement("img");
        elem3.src = gameObject.games[i].image;
        elem3.alt = gameObject.games[i].name;
        elem2.appendChild(elem3);
        let elem4 = document.createElement("p");
        elem4.innerHTML = gameObject.games[i].name;
        elem4.className = "Imgtext"
        elem2.appendChild(elem4);
        let elem5 = document.createElement("d3");
        elem5.innerHTML = gameObject.games[i].creator;
        elem5.className = "CreatorText"
        elem2.appendChild(elem5);
    } else {
        console.log('The game: ', gameObject.games[i].name, 'hasnt been loaded due to it not having needed bool')
    }
    
}
const gamesContainer = document.getElementById("gameid");
const searchBar = document.getElementById("game-search");
searchBar.addEventListener('input', (e) => {
  const query = searchBar.value.trim().toLowerCase();
  for (let game of gamesContainer.children) {
    if (game instanceof Element) {
      if (query) {
        const gameName = game.querySelector('p').innerText.trim().toLowerCase();
        const gameCreate = game.querySelector('d3').innerText.trim().toLowerCase();
        if (gameName.includes(query) || gameCreate.includes(query)) {
          game.removeAttribute('hidden');
        } else {
          game.setAttribute('hidden', '');
        }
      } else {
        game.removeAttribute('hidden');
      }
    }
  }
});
